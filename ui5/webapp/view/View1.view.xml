<mvc:View xmlns:html="http://www.w3.org/1999/xhtml" xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core" xmlns:tnt="sap.tnt"
	xmlns:fb="sap.ui.comp.filterbar" xmlns="sap.m" xmlns:t="sap.ui.table" xmlns:variant="sap.ui.comp.variants" xmlns:f="sap.f"
	xmlns:u="sap.ui.unified" xmlns:smartFilterBar="sap.ui.comp.smartfilterbar" xmlns:smartTable="sap.ui.comp.smarttable"
	xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1" controllerName="h2h.ui5.controller.View1" displayBlock="true"
	class="sapUiSizeCompact">
	<tnt:ToolPage id="toolPage" class="hostapp" sideExpanded="true">
		<tnt:header>
			<tnt:ToolHeader class="itsk-tool" design="Info">
				<Button id="sideNavigationToggleButton" icon="sap-icon://menu2" tooltip="Меню" type="Transparent" press="onSideNavButtonPress">
					<layoutData>
						<OverflowToolbarLayoutData priority="NeverOverflow"/>
					</layoutData>
				</Button>
				<HBox>
					<Image press="onHomePress" src="./images/logo4.png" height="32px" alt="logo" class="itsk-logo-image"/>
				</HBox>
				<HBox class="bankbutton">
					<!--<Image press="onHomePress" src="./images/rai2.png" height="30px" class="bank-logo"/>-->
					<MenuButton text="Райффайзенбанк">
						<menu>
							<Menu>
								<items>
									<MenuItem text="Газпромбанк" icon="sap-icon://loan" press="onPress">
										<customData>
											<core:CustomData key="target" value="p1"/>
										</customData>
									</MenuItem>
									<MenuItem text="Сбербанк" icon="sap-icon://loan" press="onPress"/>
									<MenuItem text="Райфайзен" icon="sap-icon://loan" press="onPress"/>
									<MenuItem text="Белгазпромбанк" icon="sap-icon://loan" press="onPress"/>
								</items>
							</Menu>
						</menu>
					</MenuButton>
				</HBox>
				<!--<Button icon="sap-icon://home" type="Transparent" press="onHomePress"></Button>-->
				<!--<Button icon="sap-icon://nav-back" type="Transparent" press="onNavBack"></Button>-->
				<!--<Text class="tntHeadTxt" text="Настройки"/>-->
				<ToolbarSpacer/>
				<!--<Button icon="sap-icon://search" type="Transparent"/>-->
				<Button id="messagePopup" icon="sap-icon://bell" type="Transparent" tooltip="Сообщения" text=" {/messagesLength}"
					press="handleMessagePopoverPress"/>
				<!--<Button icon="sap-icon://lab" type="Transparent" press="test"/>-->
				<!--<f:Avatar class="Avatar" displaySize="XS" backgroundColor="Random"/>-->
				<!--src="./profile2.jpg"-->
				<!--<MenuButton type="Transparent">-->
				<!--	<menu>-->
				<!--		<Menu>-->
				<!--			<items>-->
				<!--				<MenuItem text="Действие" icon="sap-icon://action-settings"/>-->
				<!--			</items>-->
				<!--		</Menu>-->
				<!--	</menu>-->
				<!--</MenuButton>-->
			</tnt:ToolHeader>
		</tnt:header>
		<tnt:sideContent>
			<tnt:SideNavigation id="SideNavigation" selectedKey="page1" itemSelect="onItemSelect">
				<tnt:NavigationList>
					<!--<tnt:NavigationListItem text="Рублевые платежи" icon="sap-icon://receipt" enabled="true" key="page1"/>-->
					<!--<tnt:NavigationListItem text="Банковские выписки" icon="sap-icon://customer-order-entry" enabled="true" key="page2"/>-->
					<tnt:NavigationListItem icon="sap-icon://building" text="Газпром нефть" key="page1">
						<tnt:NavigationListItem text="Выписки" id="PaymentOrderType" key="page1"/>
						<tnt:NavigationListItem text="Рублевые платежи" id="subItem2" key="page2"/>
						<tnt:NavigationListItem text="Валютные платежи" id="subItem3" key="page3" enabled="false"/>
					</tnt:NavigationListItem>
					<tnt:NavigationListItem text="ГПН Инвест" icon="sap-icon://building" expanded="false">
						<tnt:NavigationListItem text="Выписки" key="PaymentOrderType2"/>
						<tnt:NavigationListItem text="Рублевые платежи" key="subItem4"/>
						<tnt:NavigationListItem text="Валютные платежи" key="subItem5"/>
					</tnt:NavigationListItem>
					<!--<tnt:NavigationListItem text="Газпром нефть БС" icon="sap-icon://building" expanded="false">-->
					<!--	<tnt:NavigationListItem text="Выписки" key="PaymentOrderType"/>-->
					<!--	<tnt:NavigationListItem text="Рублевые платежи" key="subItem2"/>-->
					<!--	<tnt:NavigationListItem text="Валютные платежи" key="subItem3"/>-->
					<!--</tnt:NavigationListItem>-->
					
					<!--<tnt:NavigationListItem text="ГПН Финанс" icon="sap-icon://building" expanded="false">-->
					<!--	<tnt:NavigationListItem text="Выписки" key="PaymentOrderType"/>-->
					<!--	<tnt:NavigationListItem text="Рублевые платежи" key="subItem2"/>-->
					<!--	<tnt:NavigationListItem text="Валютные платежи" key="subItem3"/>-->
					<!--</tnt:NavigationListItem>-->
					<tnt:NavigationListItem text="Все счета" key="all"/>
				</tnt:NavigationList>
			</tnt:SideNavigation>
		</tnt:sideContent>
		<tnt:mainContents>
			<NavContainer id="pageContainer" initialPage="page1">
				<pages>
					<!--  -->
					<!-- Выписки -->
					<!--  -->
					<ScrollContainer id="page1" horizontal="false" vertical="false" height="100%">
						<VBox fitContainer="true">
							<smartFilterBar:SmartFilterBar id="smartFilterBar_1" entitySet="Statement" persistencyKey="SmartFilter_Explored_1">
								<smartFilterBar:layoutData>
									<FlexItemData shrinkFactor="0"/>
								</smartFilterBar:layoutData>
							</smartFilterBar:SmartFilterBar>
							<!--tableType="AnalyticalTable"-->
							<smartTable:SmartTable id="SmartTableStatements" entitySet="Statement" smartFilterId="smartFilterBar_1" useExportToExcel="true"
								useVariantManagement="true" useTablePersonalisation="true" header="Выписки" showRowCount="true"
								persistencyKey="SmartTableAnalytical_Explored_1" enableAutoBinding="true" showFullScreenButton="true"
								class="hostPad">
								<smartTable:customToolbar>
									<Toolbar>
										<ToolbarSpacer/>
										<Button icon="sap-icon://refresh" tooltip="Обновить" class="btn btn-bordered" press="onRefresh_Stmnt" enabled="true"/>
										<Button icon="sap-icon://upload-to-cloud" tooltip="Загрузить выписки чеорез XML в обалко" class="btn btn-bordered"
											press="OnUploadSttmntDialog"/>
										<Button icon="sap-icon://documents" tooltip="Журнал" class="btn btn-bordered" press="onJournal_Stmnt" enabled="fasle"/>
										<Button icon="sap-icon://attachment" tooltip="Приложения" class="btn btn-bordered" press="onAttachment" enabled="fasle"/>
										<Button icon="sap-icon://pdf-attachment" tooltip="PDF" class="btn btn-bordered" press="onPDF" enabled="fasle"/>
										<!--<Button icon="sap-icon://delete" tooltip="Удалить несколько" class="btn btn-bordered" press="onDeleteAllStatement" enabled="true"/>-->
										<!--	enabled="fasle"/>-->
										<MenuButton icon="sap-icon://print" tooltip="Печать выписки">
											<menu>
												<Menu>
													<MenuItem text="Печать выписки" icon="sap-icon://print" press="press" enabled="fasle"></MenuItem>
													<MenuItem text="Печать ПП" icon="sap-icon://print" press="press" enabled="fasle"/>
													<MenuItem text="Печать мемор. ордеров" icon="sap-icon://print" press="press" enabled="fasle"/>
												</Menu>
											</menu>
										</MenuButton>
										<Button icon="sap-icon://inspection" type="Accept" text="Проверить ЭЦП" class="btn btn-bordered" press="onCheckSign" enabled="fasle"/>
										<Button icon="sap-icon://paper-plane" type="Accept" tooltip="Отправить в SAP" class="btn btn-bordered" press="onSendStetement"
											enabled="fasle"/>
									</Toolbar>
								</smartTable:customToolbar>
								<t:AnalyticalTable id="smtable_1" rowHeight="20" selectionMode="Single" visibleRowCountMode="Auto" rowActionCount="1"
									rowSelectionChange="onSelStatement">
									<t:rowSettingsTemplate>
										<t:RowSettings highlight="None"/>
									</t:rowSettingsTemplate>
									<t:rowActionTemplate>
										<t:RowAction>
											<t:items>
												<t:RowActionItem icon="sap-icon://detail-view" type="Navigation" press="onChoseStatement"></t:RowActionItem>
												<!--<t:RowActionItem icon="sap-icon://delete" type="Delete" press="onDeleteStatement"></t:RowActionItem>-->
											</t:items>
										</t:RowAction>
									</t:rowActionTemplate>
								</t:AnalyticalTable>
							</smartTable:SmartTable>
							<HBox>
								<!--entitySet="StatementItemsDeb"-->
								<!--Statement('401a7ace-28d1-6060-a40e-fe4063a08d08')/ItemsDeb-->
								<!--entitySet="Statement('401a7ace-28d1-6060-a40e-fe4063a08d08')" tableBindingPath="ItemsDeb"-->
								<smartTable:SmartTable width="50%" id="SmartTable_D" entitySet="StatementItemsDeb" useExportToExcel="true" useVariantManagement="false"
									useTablePersonalisation="true" header="Дебет" showRowCount="true" persistencyKey="SmartTableAnalytical_Explored_1" enableAutoBinding="false"
									showFullScreenButton="true" class="hostPad1" initialNoDataText="Выберите выписку">
									<smartTable:customToolbar>
										<Toolbar>
											<ToolbarSpacer/>
											<Button icon="sap-icon://print" tooltip="Печать" press="onPrint_D" class="btn btn-bordered" enabled="fasle"/>
										</Toolbar>
									</smartTable:customToolbar>
									<t:Table id="Table_D" rowHeight="20" selectionMode="None" visibleRowCount="20" rowActionCount="1">
										<t:rowSettingsTemplate>
											<t:RowSettings highlight="None"/>
										</t:rowSettingsTemplate>
										<t:rowActionTemplate>
											<t:RowAction>
												<t:items>
													<t:RowActionItem icon="sap-icon://detail-view" type="Navigation" press="onChoseCreditDebit"></t:RowActionItem>
												</t:items>
											</t:RowAction>
										</t:rowActionTemplate>
									</t:Table>
								</smartTable:SmartTable>
								<!--<t:Table id="TableDeb" class="tablestyle" rowHeight="20" selectionMode="None" enableCellFilter="true" showColumnVisibilityMenu="true">-->
								<!--	<t:rowSettingsTemplate>-->
								<!--		<t:RowSettings highlight="Warning"/>-->
								<!--	</t:rowSettingsTemplate>-->
								<!--	<t:columns>-->
								<!--		<t:Column tooltip="ID" name="ID">-->
								<!--			<Label text="ID"/>-->
								<!--			<t:template>-->
								<!--				<Text text="{responseId}" wrapping="false"/>-->
								<!--			</t:template>-->
								<!--		</t:Column>-->
								<!--	</t:columns>-->
								<!--</t:Table>-->
								<!--entitySet="StatementItemsCred" -->
								<smartTable:SmartTable id="SmartTable_C" width="50%" entitySet="StatementItemsCred" useExportToExcel="true" useVariantManagement="true"
									useTablePersonalisation="true" header="Кредит" showRowCount="true" persistencyKey="SmartTableAnalytical_Explored_1"
									enableAutoBinding="false" showFullScreenButton="true" initialNoDataText="Выберите выписку" class="hostPad1">
									<smartTable:customToolbar>
										<Toolbar>
											<ToolbarSpacer/>
											<Button icon="sap-icon://print" tooltip="Печать" press="onPrint_C" class="btn btn-bordered" enabled="fasle"/>
										</Toolbar>
									</smartTable:customToolbar>
									<t:Table id="Table_C" rowHeight="20" selectionMode="None" visibleRowCount="20" rowActionCount="1">
										<t:rowSettingsTemplate>
											<t:RowSettings highlight="None"/>
										</t:rowSettingsTemplate>
										<t:rowActionTemplate>
											<t:RowAction>
												<t:items>
													<t:RowActionItem icon="sap-icon://detail-view" type="Navigation" press="onChoseCreditDebit"></t:RowActionItem>
												</t:items>
											</t:RowAction>
										</t:rowActionTemplate>
									</t:Table>
								</smartTable:SmartTable>
							</HBox>
						</VBox>
					</ScrollContainer>
					<!-- ПП -->
					<!-- ПП -->
					<!-- ПП -->
					<ScrollContainer id="page2" horizontal="false" vertical="false" height="100%">
						<VBox fitContainer="true">
							<!--https://blogs.sap.com/2019/08/13/configuring-filters-area-of-an-analytical-list-page-alp-application/-->
							<!--basicSearchFieldName="docExtId" enableBasicSearch="true"-->
							<smartFilterBar:SmartFilterBar id="smartFilterBar" entitySet="PaymentOrder" persistencyKey="SmartFilter_Explored">
								<!--<smartFilterBar:controlConfiguration>-->
								<!--	<smartFilterBar:ControlConfiguration key="docExtId">-->
								<!--		<smartFilterBar:defaultFilterValues>-->
								<!--			<smartFilterBar:SelectOption low="23cb2ada-6207-4994-8354-d7f4d78b1f18"></smartFilterBar:SelectOption>-->
								<!--		</smartFilterBar:defaultFilterValues>-->
								<!--	</smartFilterBar:ControlConfiguration>-->
								<!--</smartFilterBar:controlConfiguration>-->
								<!-- layout data used to make the table growing but the filter bar fixed -->
								<smartFilterBar:layoutData>
									<FlexItemData shrinkFactor="0"/>
								</smartFilterBar:layoutData>
							</smartFilterBar:SmartFilterBar>
							<!--tableBindingPath="PayDocRu" smartFilterId="smartFilterBar" tableType="GridTable" tableType="ResponsiveTable" initiallyVisibleFields="docExtId,purpose,docDate,docNum,docSum" -->
							<smartTable:SmartTable id="LineItemsSmartTable" entitySet="PaymentOrder" smartFilterId="smartFilterBar" useExportToExcel="true"
								beforeExport="onBeforeExport" useVariantManagement="true" useTablePersonalisation="true" header="Платежные поручения" showRowCount="true"
								beforeRebindTable="onDataReceived" persistencyKey="SmartTableAnalytical_Explored" enableAutoBinding="true" showFullScreenButton="true"
								class="sapUiResponsiveContentPadding">
								<!--beforeRebindTable="onDataReceived"-->
								<!-- layout data used to make the table growing but the filter bar fixed -->
								<smartTable:customToolbar>
									<Toolbar>
										<ToolbarSpacer/>
										<!--<ToolbarSeparator/>-->
										<Button icon="sap-icon://refresh" tooltip="Обновить" class="btn btn-bordered" press="onRefresh" enabled="true"/>
										<Button icon="sap-icon://documents" tooltip="Журнал" id="onJournal" class="btn btn-bordered" press="onJournal" enabled="true"/>
										<Button icon="sap-icon://upload-to-cloud" text="ПП" tooltip="Ипорт ПП из текстового файла" class="btn btn-bordered" press="OnUploadDialog"/>
										<Button icon="sap-icon://delete" tooltip="Удалить несколько" class="btn btn-bordered" press="onDeleteAllPP" enabled="true"/>
										<MenuButton icon="sap-icon://print">
											<menu>
												<Menu>
													<MenuItem text="1C" icon="sap-icon://save" press="onDownload_1C"></MenuItem>
													<MenuItem text="XML" icon="sap-icon://save" press="onDownload_XML" enabled="fasle"/>
													<MenuItem text="PDF" icon="sap-icon://save" press="onDownload_PDF" enabled="fasle"/>
												</Menu>
											</menu>
										</MenuButton>
										<!--<Button icon="sap-icon://detail-view" text="ПП xml" tooltip="Просмотр XML" class="btn btn-bordered" press="onShowXml" enabled="true"/>-->
										<Button icon="sap-icon://undo" text="Снять ЭЦП" type="Reject" tooltip="Снять ЭЦП" class="bbb" press="onUndoSign" enabled="true"/>
										<Button icon="sap-icon://signature" type="Accept" text="ЭЦП" class="btn btn-bordered" press="onSignDialog" enabled="true"/>
										<Button icon="sap-icon://paper-plane" type="Accept" text="Отправить" tooltip="Отправить" class="btn btn-bordered btn-warning" press="onSend" enabled="true"/>
									</Toolbar>
								</smartTable:customToolbar>
								<t:AnalyticalTable id="smtable" rowHeight="20" visibleRowCountMode="Auto" rowActionCount="2">
									<t:rowSettingsTemplate>
										<t:RowSettings highlight="{path:'status', formatter:'.formatRowHighlight'}"/>
									</t:rowSettingsTemplate>
									<t:rowActionTemplate>
										<t:RowAction>
											<t:items>
												<t:RowActionItem icon="sap-icon://detail-view" type="Navigation" press="onDetailDialog"></t:RowActionItem>
												<t:RowActionItem icon="sap-icon://delete" type="Delete" press="onDeletePP"></t:RowActionItem>
											</t:items>
										</t:RowAction>
									</t:rowActionTemplate>
								</t:AnalyticalTable>
							</smartTable:SmartTable>
						</VBox>
					</ScrollContainer>
				</pages>
			</NavContainer>
		</tnt:mainContents>
	</tnt:ToolPage>
</mvc:View>